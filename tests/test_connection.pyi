# Stubs for psycopg2.tests.test_connection (Python 3.7)
#
# NOTE: This dynamically typed stub was automatically generated by stubgen.

from .testconfig import dbname, dsn
from .testutils import ConnectingTestCase, decorate_all_tests, script_to_py3, skip_after_postgres, skip_before_libpq, skip_before_postgres, skip_if_no_superuser, skip_if_tpc_disabled, skip_if_windows, slow, unittest
from psycopg2 import extensions as ext
from typing import Any

class ConnectionTests(ConnectingTestCase):
    def test_closed_attribute(self) -> None: ...
    def test_close_idempotent(self) -> None: ...
    def test_cursor_closed_attribute(self) -> None: ...
    def test_cleanup_on_badconn_close(self) -> None: ...
    def test_reset(self) -> None: ...
    def test_notices(self) -> None: ...
    def test_notices_consistent_order(self) -> None: ...
    def test_notices_limited(self) -> None: ...
    def test_notices_deque(self) -> None: ...
    def test_notices_noappend(self) -> None: ...
    def test_server_version(self) -> None: ...
    def test_protocol_version(self) -> None: ...
    def test_tpc_unsupported(self): ...
    def test_concurrent_execution(self) -> None: ...
    def test_encoding_name(self) -> None: ...
    conn: Any = ...
    def test_connect_nonnormal_envvar(self) -> None: ...
    def test_connect_no_string(self) -> None: ...
    def test_weakref(self) -> None: ...
    def test_commit_concurrency(self) -> None: ...
    def test_connect_cursor_factory(self) -> None: ...
    def test_cursor_factory(self): ...
    def test_cursor_factory_none(self) -> None: ...
    def test_failed_init_status(self) -> None: ...

class ParseDsnTestCase(ConnectingTestCase):
    def test_parse_dsn(self) -> None: ...
    def test_parse_dsn_uri(self) -> None: ...
    def test_unicode_value(self) -> None: ...
    def test_unicode_key(self) -> None: ...
    def test_bad_param(self) -> None: ...
    def test_str_subclass(self) -> None: ...

class MakeDsnTestCase(ConnectingTestCase):
    def test_empty_arguments(self) -> None: ...
    def test_empty_string(self) -> None: ...
    def test_params_validation(self) -> None: ...
    def test_empty_param(self) -> None: ...
    def test_escape(self) -> None: ...
    def test_database_is_a_keyword(self) -> None: ...
    def test_params_merging(self) -> None: ...
    def test_no_dsn_munging(self) -> None: ...
    def test_null_args(self) -> None: ...
    def test_url_is_cool(self) -> None: ...
    def test_get_dsn_parameters(self) -> None: ...

class IsolationLevelsTestCase(ConnectingTestCase):
    def setUp(self) -> None: ...
    def test_isolation_level(self) -> None: ...
    def test_encoding(self) -> None: ...
    def test_set_isolation_level(self) -> None: ...
    def test_set_isolation_level_autocommit(self) -> None: ...
    def test_set_isolation_level_default(self) -> None: ...
    def test_set_isolation_level_abort(self) -> None: ...
    def test_isolation_level_autocommit(self) -> None: ...
    def test_isolation_level_read_committed(self) -> None: ...
    def test_isolation_level_serializable(self) -> None: ...
    def test_isolation_level_closed(self) -> None: ...
    def test_setattr_isolation_level_int(self) -> None: ...
    def test_setattr_isolation_level_str(self) -> None: ...
    def test_setattr_isolation_level_invalid(self) -> None: ...

class ConnectionTwoPhaseTests(ConnectingTestCase):
    def setUp(self) -> None: ...
    def tearDown(self) -> None: ...
    def clear_test_xacts(self): ...
    def make_test_table(self) -> None: ...
    def count_xacts(self): ...
    def count_test_records(self): ...
    def test_tpc_commit(self) -> None: ...
    def test_tpc_commit_one_phase(self) -> None: ...
    def test_tpc_commit_recovered(self) -> None: ...
    def test_tpc_rollback(self) -> None: ...
    def test_tpc_rollback_one_phase(self) -> None: ...
    def test_tpc_rollback_recovered(self) -> None: ...
    def test_status_after_recover(self) -> None: ...
    def test_recovered_xids(self) -> None: ...
    def test_xid_encoding(self) -> None: ...
    def test_xid_roundtrip(self) -> None: ...
    def test_unparsed_roundtrip(self) -> None: ...
    def test_xid_construction(self) -> None: ...
    def test_xid_from_string(self) -> None: ...
    def test_xid_to_string(self) -> None: ...
    def test_xid_unicode(self) -> None: ...
    def test_xid_unicode_unparsed(self) -> None: ...
    def test_cancel_fails_prepared(self) -> None: ...
    def test_tpc_recover_non_dbapi_connection(self) -> None: ...

class TransactionControlTests(ConnectingTestCase):
    def test_closed(self) -> None: ...
    def test_not_in_transaction(self) -> None: ...
    def test_set_isolation_level(self) -> None: ...
    def test_set_isolation_level_str(self) -> None: ...
    def test_bad_isolation_level(self) -> None: ...
    def test_set_read_only(self) -> None: ...
    def test_setattr_read_only(self) -> None: ...
    def test_set_default(self) -> None: ...
    def test_set_deferrable(self) -> None: ...
    def test_set_deferrable_error(self) -> None: ...
    def test_setattr_deferrable(self) -> None: ...
    def test_mixing_session_attribs(self) -> None: ...
    def test_idempotence_check(self) -> None: ...

class AutocommitTests(ConnectingTestCase):
    def test_closed(self) -> None: ...
    def test_default_no_autocommit(self) -> None: ...
    def test_set_autocommit(self) -> None: ...
    def test_set_intrans_error(self) -> None: ...
    def test_set_session_autocommit(self) -> None: ...

class PasswordLeakTestCase(ConnectingTestCase):
    def setUp(self) -> None: ...
    class GrassingConnection(ext.connection):
        def __init__(self, *args: Any, **kwargs: Any) -> None: ...
    def test_leak(self) -> None: ...
    def test_url_leak(self) -> None: ...

class SignalTestCase(ConnectingTestCase):
    def test_bug_551_returning(self) -> None: ...
    def test_bug_551_no_returning(self) -> None: ...

def test_suite(): ...
